<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="header">
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <!-- this is were we reference the CSS formatting file -->
    <link rel="stylesheet" th:href="@{/css/formatting.css}">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="//code.jquery.com/ui.1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    
</head>

<!-- old version:
<nav th:fragment = "navbar(activeItem)" class="navbar navbar-expand-lg navbar-dark bg-dark"> -->
<nav th:fragment = "navbar" class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">Project IO</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0"> 
    	<li class="nav-item active">
        <a class="nav-link" th:href="@{/}">Home</a>
        <li class="nav-item">
      	
        <a class="nav-link" th:href="@{/employees/}">Employees</a>
      </li>
       
    	<li class="nav-item">
        	<a class="nav-link" th:href="@{/projects/}">Projects</a>
      	</li>
      	<li class="nav-item">
        	<a class="nav-link" th:href="@{/register/}">Register New User</a>
      	</li>
      	<li class="nav-item">
        	<a class="nav-link" th:href="@{/logout}">Log Out</a>
      	</li>
    </ul>
  </div>
</nav>

<body>
	<div th:fragment = "currentProjects">
		<h4>Current Projects </h4>
		<hr>
		
		<!-- Add New Project Button -->
		<a th:href="@{/projects/new}"
			class="btn btn-primary btn-sm mb-3">
			New Project
		</a>
		<table class = "table table-bordered table-striped">
			<thead class="thead-dark">
				<tr>
					<th>Project Name</th>
					<th>Project Stage</th>
				</tr>
			</thead>
			
			<tbody>
			<tr th:each="aProject : ${projectsList}">
				<td th:text="${aProject.name}"/>
				<td th:text="${aProject.stage}"/>
			</tr>
			</tbody>
		</table>
	</div>
	
	
	<div th:fragment = "currentEmployees">
		<h4>Current Employees </h4>
		<hr>
		
		<!-- Add New Employee Button -->
		<a th:href="@{/employees/new}"
			class="btn btn-primary btn-sm mb-3">
			New Employee
		</a>
		
		<table class = "table table-bordered table-striped">
			<thead class="thead-dark">
				<tr>
					<th>Employee First Name</th>
					<th>Employee Last Name</th>
					<th>Employee Email Address</th>
				</tr>
			</thead>
			
			<tbody>
			<tr th:each="aEmployee : ${employeesList}">
				<td th:text="${aEmployee.firstName}"/>
				<td th:text="${aEmployee.lastName}"/>
				<td th:text="${aEmployee.email}"/>
			</tr>
			</tbody>
		</table>
	</div>
</body>